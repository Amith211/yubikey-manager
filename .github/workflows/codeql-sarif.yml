name: "bandit sarif example "

on:
  push:

jobs:
  bandit-sarif:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout repository
      uses: actions/checkout@v2

    - name: Intall bandit and formatter
      run: sudo apt-get install python3-setuptools python3-wheel && pip3 install bandit bandit-sarif-formatter

    - name: Run bandit
      run: python3 -m bandit -r . --format sarif --output results.sarif || true

    - name: Upload SARIF file
      uses: github/codeql-action/upload-sarif@v1
      with:
        sarif_file: results.sarif
